webpackJsonp([0],{233:function(e,t,n){"use strict";n(668),n(669),n(670),n(677),n(667),n(678)},656:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),a=o(r),i=n(127),s=o(i),u=void 0;t.default={getComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.id)return Promise.reject("Parameter 'id' is required");var t={},n="/api/comments/"+e.id;return e.page&&(t.p=e.page),(e.version||u)&&(t.v=e.version||u),a.default.get(n,{data:t}).then(function(e){return e&&e.success?Promise.resolve(e):Promise.reject("No comments received")})},addComment:function(e){return e?(e.form=e.url?"image":"text",e.buzz_id=e.buzz_id||BZFD.Context.buzz.id,s.default.addToken(e).then(function(e){return a.default.post("/buzzfeed/api/comments/",{data:e})})):Promise.reject("Parameter 'comment' is required")},setVersion:function(e){u=e}}},657:function(e,t,n){var o,r=n(4);o=r.currentEnv?r.currentEnv:r.currentEnv=new r.Environment([],{autoescape:!0});var a=r.webpackDependencies||(r.webpackDependencies={}),i=n(3);!function(){(r.nunjucksPrecompiled=r.nunjucksPrecompiled||{})["app/static/components/contributions/_contribution.html"]=function(){function e(e,t,n,o,r){var a="";try{var i=null;a+='\n\n<li class="contribution contribution-',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"form"),e.opts.autoescape),a+=" xs-block fill-gray-lighter\n  xs-border-lighter xs-p2 xs-mb1 rounded js-contribution--",a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"id"),e.opts.autoescape),a+='"\n  ',o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"url")&&(a+='data-module="comment"'),a+=">\n  ",o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"user_info")&&(a+='\n    <div class="contribution__user">\n      <a class="xs-float-left xs-mr1" href="/',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"user_info"),"username"),e.opts.autoescape),a+='">\n        <img src="',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"user_info"),"image"),e.opts.autoescape),a+='" width="25" height="25" alt="" class="circle">\n      </a>\n      <a class="xs-text-5 xs-align-top bold" href="/',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"user_info"),"username"),e.opts.autoescape),a+='">\n        ',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"user_info"),"display_name"),e.opts.autoescape),a+="\n      </a>\n    </div>\n  "),a+='\n\n  <div class="what xs-mt1 xs-text-5">\n    ',o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"url")&&(a+='\n      <a href="',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"config"),"imageServiceUrl"),e.opts.autoescape),a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"url"),e.opts.autoescape),a+='" class="image" target="_blank">\n        <img\n          class="js-progressive-image xs-fit"\n          src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"\n          data-src="',a+=o.suppressValue(o.memberLookup(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"config"),"imageServiceUrl"),e.opts.autoescape),a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"url"),e.opts.autoescape),a+='"\n          data-bfa="@o:{ignore:[bfaBinder]};"\n        >\n      </a>\n    '),a+="\n    <p>",a+=o.suppressValue(e.getFilter("safe").call(t,o.memberLookup(o.contextOrFrameLookup(t,n,"contribution"),"blurb")),e.opts.autoescape),a+="</p>\n  </div>\n</li>\n",i?i.rootRenderFunc(e,t,n,o,r):r(null,a)}catch(e){r(o.handleError(e,null,null))}}return{root:e}}()}(),e.exports=i(r,o,r.nunjucksPrecompiled["app/static/components/contributions/_contribution.html"],a)},667:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=n(1),i=o(a),s=n(2),u=o(s),l=n(231),d=o(l),c=n(126),f=o(c),p=n(681),m=o(p),v=n(656),b=o(v),g=n(679),_=o(g),h=n(127),x=o(h);r.Application.addModule("add-yours",function(e){function t(){M={text:i.default.find(T,".js-add-yours__text")[0],fileLabel:i.default.find(T,".js-add-yours__file-label")[0],file:i.default.find(T,".js-add-yours__file")[0],imageHolder:i.default.find(T,".js-add-yours__image-holder")[0],imageBlock:i.default.find(T,".js-add-yours__image-block")[0],loader:i.default.find(T,".js-loader__overlay")[0],error:i.default.find(T,".js-add-yours__error")[0],errorText:i.default.find(T,".js-add-yours__error-text")[0],signin:i.default.find(T,".js-add-yours_signin")[0],form:i.default.find(T,".js-add-yours__form")[0],success:i.default.find(T,".js-add-yours__success")[0]}}function n(){i.default.addClass(M.error,"js-hidden"),i.default.addClass(M.success,"js-hidden")}function o(e){n(),i.default.removeClass(M.error,"js-hidden"),i.default.setText(M.errorText,e||E.general)}function r(){n(),i.default.removeClass(M.success,"js-hidden")}function a(){i.default.removeClass(M.loader,"js-hidden")}function s(){i.default.addClass(M.loader,"js-hidden")}function l(){F=void 0,U=void 0,M.file.value=""}function c(){i.default.addClass(M.imageBlock,"js-hidden"),i.default.setStyle(M.fileLabel,{visibility:"visible"}),l()}function p(e){i.default.setHTML(M.imageHolder,e.outerHTML||e),i.default.addClass(e,"add-yours__image"),i.default.removeClass(M.imageBlock,"js-hidden"),i.default.setStyle(M.fileLabel,{visibility:"hidden"})}function v(){c(),M.text.value=""}function g(){var t=M.text.value;if(!t&&!U)return void o(E.empty);a(),n(),b.default.addComment({blurb:t,url:U}).then(function(t){if(s(),!t||!t.success)return void o(E.comment);P=t.id,v(),r(),b.default.setVersion(t.id),e.broadcast("add-yours-added")}).catch(function(){s(),o(E.comment)})}function h(){F&&!U?(a(),n(),m.default.upload({file:F}).then(function(e){U=e.image,g()}).catch(function(){o(E.upload),s()})):g()}function k(e){if(e&&e.element&&P){var t=i.default.findOne(e.element,".js-contribution--"+P);t&&window.scrollTo(0,t.getBoundingClientRect().top+document.documentElement.scrollTop-110),P=void 0}}function j(){f.default.isLoggedIn()?i.default.removeClass(M.form,"js-hidden"):i.default.removeClass(M.signin,"js-hidden")}function L(){x.default.requestSignIn("add-yours")}function w(e){e&&"add-yours"===e.invoker&&i.default.scrollIntoView(T)}function y(e){return d.default.isImage(e)?!(!e.size||e.size>10485760)||(o(E.size),!1):(o(E.type),!1)}function O(e){if(!(F=e.files[0])||!y(F))return void l();n(),_.default.read({file:F}).then(p).catch(function(){o(E.preview),c()})}var A,C,R,F,U,E,P,M,T=e.getElement();C={fileupload:O},R={submit:h,"remove-image":c,signin:L},A={"contributions-loaded":k,"signin-complete":w};var D={};return D.messages=u.default.getKeys(A),D.onmessage=u.default.getMessageHandler(A),D.behaviors=[],D.onclick=function(e,t,n){var o=R[n];"function"==typeof o&&o.call(this,e,t)},D.onchange=function(e,t,n){var o=C[n];"function"==typeof o&&o.call(this,t)},D.init=function(){E=e.getConfig("errorMessages"),t(),j()},D.destroy=function(){},D})},668:function(e,t,n){"use strict";var o=n(0),r=n(6),a=n(22);o.Application.addModule("comment",function(){var e={};return e.behaviors=[a.name,r.name],e.init=function(){},e.destroy=function(){},e})},669:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=n(1),i=o(a),s=n(2),u=o(s),l=n(14),d=o(l),c=n(656),f=o(c),p=n(685),m=o(p),v=n(657),b=o(v);r.Application.addModule("contributions-buzzfeed",function(e){function t(){e.broadcast("contributions-load-error")}function n(){i.default.removeClass(i.default.find(_,".js-loader__overlay"),"js-hidden")}function o(){i.default.addClass(i.default.find(_,".js-loader__overlay"),"js-hidden")}function r(){g.next?i.default.removeClass(i.default.find(_,".js-contributions-list__more"),"js-hidden"):i.default.addClass(i.default.find(_,".js-contributions-list__more"),"js-hidden")}function a(){return f.default.getComments({id:window.BZFD.Context.buzz.id,page:g.next}).then(function(e){return g=e.paging||{},u.default.each(e.comments,function(e,t){t.config={webRoot:window.BZFD.Config.webRoot,imageServiceUrl:window.BZFD.Config.imageServiceUrl},t.blurb&&(t.blurb=t.blurb.replace(/\n/g,"<br/>"))}),Promise.resolve(e)})}function s(){g={},n(),a().then(function(t){o();var n=m.default.render(u.default.extend(t,{i18n:{MORE_CONTRIBUTIONS:d.default.getTranslation("MORE_CONTRIBUTIONS")}}));e.application.stopAll(_),i.default.setHTML(_,n),r(),e.application.startAll(_),e.broadcast("contributions-loaded",{element:_})}).catch(function(){o(),t()})}function l(t){var n=u.default.map(t,function(e){return b.default.render({contribution:e})});i.default.append(i.default.findOne(_,".js-contributions-list"),n.join("")),r(),e.application.startAll(_)}function c(){n(),a().then(function(e){o(),l(e.comments)}).catch(function(){o(),t()})}var p,v,g={},_=e.getElement();v={"add-yours-added":s},p={more:c};var h={};return h.messages=u.default.getKeys(v),h.onmessage=u.default.getMessageHandler(v),h.onclick=function(e,t,n){var o=p[n];"function"==typeof o&&o.call(this,e,t)},h.init=function(){s()},h.destroy=function(){},h})},670:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=n(16),i=o(a),s=n(39),u=o(s),l=n(686),d=o(l),c=n(1),f=o(c);r.Application.addModule("contributions-facebook",function(e){var t={};return t.init=function(){var t=e.getElement();t.innerHTML=d.default.render({href:i.default.getCanonicalUrl(),width:f.default.size(t).width}),u.default.init().then(function(){return u.default.parse(t)})},t.destroy=function(){},t})},677:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(0),a=n(14),i=o(a),s=n(2),u=o(s),l=n(1),d=o(l),c=n(683),f=o(c),p=n(126),m=o(p),v=n(687),b=o(v),g=n(6);r.Application.addModule("reactions",function(e){function t(e){a.innerHTML=b.default.render({i18n:{WHAT_DO_YOU_THINK:i.default.getTranslation("WHAT_DO_YOU_THINK"),REACT_MAX_3:i.default.getTranslation("REACT_MAX_3"),ALREADY_REACT:i.default.getTranslation("ALREADY_REACT")},reactions:e})}function n(){f.default.get().then(t)}function o(e,t){s>=l&&d.default.removeClass(d.default.findOne(a,".js-max-react"),"js-hidden");var n=d.default.getAttr(t,"data-reaction"),o=d.default.parent(t,".js-reaction"),i=d.default.findOne(o,".reaction__bar__number"),u=d.default.findOne(o,".reaction__bar__level"),c=d.default.getAttr(t,"data-count");c=isNaN(parseInt(c,10))?1:parseInt(c,10)+1,d.default.addClass(t,"reaction__button--select"),d.default.removeAttr(t,"data-type"),d.default.setAttr(u,{style:"height: "+f.default.getLevel(c)+"px"}),d.default.setHTML(i,c),s++,f.default.save(n).then(r).catch(function(){})}function r(e){e.replaced&&d.default.removeClass(d.default.findOne(a,".js-already-react"),"js-hidden")}var a=e.getElement(),s=0,l=3,c={};c[u.default.getUniqueEventName("viewport-active",a)]=function(){m.default.isLoggedIn()&&n()};var p={reaction:o},v={};return v.behaviors=[g.name],v.messages=u.default.getKeys(c),v.onclick=u.default.getEventHandler(p),v.onmessage=u.default.getMessageHandler(c),v.init=function(){},v.destroy=function(){},v})},678:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return window.location.origin}var a=n(0),i=n(1),s=o(i),u=n(2),l=o(u),d=n(231),c=o(d),f=n(680),p=o(f);a.Application.addModule("video-add-yours",function(e){function t(){x={form:s.default.findOne(j,".js-video-add-yours__form"),name:s.default.findOne(j,".js-video-add-yours__name"),email:s.default.findOne(j,".js-video-add-yours__email"),agreement:s.default.findOne(j,".js-video-add-yours__agreement"),errorForm:s.default.findOne(j,".js-video-add-yours__error-form"),errorUpload:s.default.findOne(j,".js-video-add-yours__error-upload"),success:s.default.findOne(j,".js-video-add-yours__success"),iframe:s.default.findOne(j,".js-video-add-yours__iframe"),loader:s.default.findOne(j,".js-video-add-yours__loader"),percentage:s.default.findOne(j,".js-video-add-yours__percentage-number"),progressBar:s.default.findOne(j,".js-video-add-yours__progress-inner")}}function n(){s.default.addClass(x.loader,"js-hidden")}function o(){u(),s.default.removeClass(x.errorUpload,"js-hidden")}function a(){s.default.removeClass(x.success,"js-hidden")}function i(){u(),s.default.removeClass(x.errorForm,"js-hidden")}function u(){s.default.addClass(x.errorForm,"js-hidden"),s.default.addClass(x.errorUpload,"js-hidden"),s.default.addClass(x.success,"js-hidden")}function d(){return{name:x.name.value,email:x.email.value,agreement:x.agreement.checked}}function f(e){return!e.agreement||!e.name||!e.email||!c.default.email(e.email)||e.name.length>k.maxLength||e.email.length>k.maxLength?(i(),!1):(u(),!0)}function m(e){s.default.setText(x.percentage,e),s.default.setStyle(x.progressBar,{width:e+"%"})}function v(e){var t=Math.min(0|e.progress,99);y||(y=!0,m(0),s.default.addClass(x.iframe,"js-hidden"),s.default.removeClass(x.loader,"js-hidden")),m(t)}function b(){n(),a()}function g(){n(),o()}function _(e){var t=d();return e.preventDefault(),!!f(t)&&(delete t.agreement,s.default.addClass(x.form,"js-hidden"),s.default.removeClass(x.iframe,"js-hidden"),p.default.pickVideo({customCss:k.customCss?w+k.customCss:"",customText:w+(k.customText[L]||k.customText.en),success:b,fail:g,progress:v},t),!0)}function h(e){e.preventDefault(),u(),s.default.removeClass(x.iframe,"js-hidden"),y=!1}var x,k,j=e.getElement(),L=window.BZFD.Context.page.localization.language,w=r(),y=!1,O={};return O.behaviors=[],O.onsubmit=l.default.getEventHandler({"video-add-yours-form":_}),O.onclick=l.default.getEventHandler({"video-add-yours-retry":h}),O.init=function(){t(),k=e.getConfig(),p.default.init()},O.destroy=function(){},O})},679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(231),r=function(e){return e&&e.__esModule?e:{default:e}}(o);t.default={readAsBlob:function(e){var t=this,n=t.createObjectURL(e);return new Promise(function(e,o){return n?t.loadImage(n):o("Unable to read as BLOB")}).then(function(e){return t.revokeObjectURL(n),Promise.resolve(e)}).catch(function(e){return t.revokeObjectURL(n),Promise.reject(e)})},read:function(e){var t=this;return e=e||{},!e.file&&e.element&&e.element.files&&(e.file=e.element.files[0]),new Promise(function(n,o){if(!e.file)return void o("No file specified");if(!r.default.isImage(e.file))return void o("Wrong file");var a=new FileReader;a.onload=function(r){var a;r&&r.target&&r.target.result&&(a=r.target.result),a&&-1!==a.indexOf("image")?t.loadImage(a).then(n).catch(o):t.readAsBlob(e.file).then(n).catch(o)},a.onabort=a.onerror=function(){o("Unable to read file")},a.readAsDataURL(e.file)})},loadImage:function(e){return new Promise(function(t,n){var o=new Image;o.onload=function(){t(this)},o.onabort=o.onerror=function(){n("Unable to load image")},o.src=e})},createObjectURL:function(e){return!!e&&(window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(e):!(!window.webkitURL||!window.webkitURL.createObjectURL)&&window.webkitURL.createObjectURL(e))},revokeObjectURL:function(e){e&&(window.URL&&window.URL.revokeObjectURL?window.URL.revokeObjectURL(e):window.webkitURL&&window.webkitURL.revokeObjectURL&&window.webkitURL.revokeObjectURL(e))}}},680:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return a||(a=d.default.createScript(m).then(function(){return i=window.filepicker,i.setKey(p),Promise.resolve()}).catch(function(){u.default.captureException(new Error("Filestack not available"))}))}Object.defineProperty(t,"__esModule",{value:!0});var a,i,s=n(235),u=o(s),l=n(2),d=o(l),c=n(46),f=o(c),p="APcgtDUA1RLq9i9leXfYiz",m="//api.filestackapi.com/filestack.js",v=BZFD.Context.buzz,b="/"+BZFD.Config.env+"/"+v.id+"/",g=BZFD.Context.page.localization.language,_={location:"S3",storeContainer:"videoaddyours-us-east-1",base64decode:!1,access:"public",path:b},h={progress:function(){},success:function(){},fail:function(){}};t.default={saveData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=d.default.extend({},_,h,{input:"",path:b+e.filename,mimetype:"application/json"},e);var t=e,n=t.input,o=t.progress;return r().then(function(){return new Promise(function(t,r){d.default.bulkDelete(["input","success","fail","progress"],e),i.store(n,e,t,r,o)})})},rename:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=d.default.extend({},_,h,{path:b+e.filename},e);var t=e,n=t.url,o=t.progress;return r().then(function(){return new Promise(function(t,r){d.default.bulkDelete(["url","success","fail","progress"],e),i.storeUrl(n,e,t,r,o)})}).then(function(){return i.remove(n)})},pickVideo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e=d.default.extend({},_,h,{container:"video-add-yours__upload",mimetype:"video/*",mimetypes:["video/*","video/mp4","video/x-m4v"],backgroundUpload:!1,maxSize:262144e3,service:["COMPUTER"],multiple:!0,maxFiles:1,folders:!1,language:g},e),i.pickAndStore(e,_,function(o){var r=n.getFilenames({originalFile:o[0].filename,username:t.name||""});Promise.all([n.rename({url:o[0].url,filename:r.video}),n.saveData({input:JSON.stringify(t),filename:r.data})]).then(e.success,e.fail)},e.fail,e.progress)},getFilenames:function(e){return e.timestamp=Date.now(),{video:this.getFilename(e),data:this.getFilename({extension:"json",timestamp:e.timestamp,username:e.username})}},getFilename:function(e){return!e.extension&&e.originalFile&&(e.extension=e.originalFile.split(".").pop()),e.username=e.username.replace(/\s/g,"_").replace(/\W+/g,"").toLowerCase(),f.default.renderString("{{username}}_{{timestamp}}.{{extension}}",e)},init:r}},681:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),i=n(19),s=o(i),u={url:"/buzzfeed/_edit_super_image/tmp_wide"};t.default={upload:function(e){return e=a.default.extend({},u,e),!e.file&&e.element&&e.element.files&&(e.file=e.element.files[0]),e.file?s.default.post(e.url,{params:{headers:{"Content-Type":e.file.type}},data:e.file,raw:!0}).then(function(t){return t&&t.uploaded&&"false"!==t.uploaded?(e.file.value="",Promise.resolve(t)):Promise.reject("Server error")}):Promise.reject("Parameter 'file' is required")}}},683:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return"es"===_?["loves","hates","lol","win","omg","cute","wtf"]:"pt"===_||"de"===_?["loves","hates","lol","win","fail","omg","wtf"]:["loves","hates","lol","win","fail","omg","cute","wtf"]}Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),i=o(a),s=n(14),u=o(s),l=n(126),d=o(l),c=n(127),f=o(c),p=n(2),m=o(p),v=BZFD.Context.buzz.id,b="/api/comments/stats/"+v,g=d.default.getUserInfo(),_=u.default.getRawPageLanguage(),h=0;t.default={get:function(){var e=this;return i.default.get(b).then(function(t){return Promise.resolve(e.sortData(t))})},sortData:function(e){var t=this,n=r(),o=[];return e&&e.reactions&&(m.default.each(e.reactions.list,function(e,t){parseInt(t,10)>h&&(h=parseInt(t,10))}),m.default.each(e.reactions.list,function(e,r){var a=n.indexOf(e);-1!==a&&(o.push({name:e,count:r,level:t.getLevel(r)}),n.splice(a,1))}),o.sort(function(e,t){return t.count-e.count})),m.default.each(n,function(e,t){o.push({name:t})}),o},getLevel:function(e){return 3*h<90?3*e:e>h?93:Math.round(90*parseInt(e,10)/h)},save:function(e){if(!g||!g.userid)return f.default.requestSignIn(),Promise.reject("Unauthorized");if(!e)return Promise.reject("Parameter 'reaction' is requried");var t={user_id:g.userid,buzz_id:v,reaction:e};return f.default.addToken(t).then(function(e){return i.default.post("/buzzfeed/api/comments",{data:e})})}}},685:function(e,t,n){var o,r=n(4);o=r.currentEnv?r.currentEnv:r.currentEnv=new r.Environment([],{autoescape:!0});var a=r.webpackDependencies||(r.webpackDependencies={});a["./_contribution.html"]=n(657);var i=n(3);!function(){(r.nunjucksPrecompiled=r.nunjucksPrecompiled||{})["app/static/components/contributions/contributions-list.html"]=function(){function e(e,t,n,o,r){var a="";try{var i=null;a+='\n\n<ul class="contributions-list js-contributions-list list-unstyled xs-mt3" data-bfa="@l:Contributions;">\n  ',n=n.push();var s=o.contextOrFrameLookup(t,n,"comments");if(s)for(var u=s.length,l=0;l<s.length;l++){var d=s[l];n.set("contribution",d),n.set("loop.index",l+1),n.set("loop.index0",l),n.set("loop.revindex",u-l),n.set("loop.revindex0",u-l-1),n.set("loop.first",0===l),n.set("loop.last",l===u-1),n.set("loop.length",u),a+="\n    ";var c=[];c.push(function(t){e.getTemplate("./_contribution.html",!1,"app/static/components/contributions/contributions-list.html",null,function(e,n){if(e)return void r(e);t(null,n)})}),c.push(function(e,o){e.render(t.getVariables(),n,function(e,t){if(e)return void r(e);o(null,t)})}),c.push(function(e,t){a+=e,t(null)}),e.waterfall(c,function(){a+="\n  "})}n=n.pop(),a+='\n</ul>\n<a href="javascript:;" class="js-contributions-list__more button js-hidden xs-block" data-type="more">\n  ',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"i18n"),"MORE_CONTRIBUTIONS"),e.opts.autoescape),a+='\n</a>\n<div class="js-loader__overlay loader__overlay xs-absolute xs-z1 js-hidden"><div class="loader xs-mt3"></div></div>\n',i?i.rootRenderFunc(e,t,n,o,r):r(null,a)}catch(e){r(o.handleError(e,null,null))}}return{root:e}}()}(),e.exports=i(r,o,r.nunjucksPrecompiled["app/static/components/contributions/contributions-list.html"],a)},686:function(e,t,n){var o,r=n(4);o=r.currentEnv?r.currentEnv:r.currentEnv=new r.Environment([],{autoescape:!0});var a=r.webpackDependencies||(r.webpackDependencies={}),i=n(3);!function(){(r.nunjucksPrecompiled=r.nunjucksPrecompiled||{})["app/static/components/contributions/facebook.html"]=function(){function e(e,t,n,o,r){var a="";try{var i=null;a+='\n\n<fb:comments class="fb-comments-area" data-href="',a+=o.suppressValue(o.contextOrFrameLookup(t,n,"href"),e.opts.autoescape),a+='" data-mobile="true" data-width="',a+=o.suppressValue(o.contextOrFrameLookup(t,n,"width"),e.opts.autoescape),a+='"></fb:comments>\n',i?i.rootRenderFunc(e,t,n,o,r):r(null,a)}catch(e){r(o.handleError(e,null,null))}}return{root:e}}()}(),e.exports=i(r,o,r.nunjucksPrecompiled["app/static/components/contributions/facebook.html"],a)},687:function(e,t,n){var o,r=n(4);o=r.currentEnv?r.currentEnv:r.currentEnv=new r.Environment([],{autoescape:!0});var a=r.webpackDependencies||(r.webpackDependencies={}),i=n(3);!function(){(r.nunjucksPrecompiled=r.nunjucksPrecompiled||{})["app/static/components/reactions/reactions-box.html"]=function(){function e(e,t,n,o,r){var a="";try{var i=null;a+='\n\n<h2 class="bold xs-mb2">',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"i18n"),"WHAT_DO_YOU_THINK"),e.opts.autoescape),a+='</h2>\n<p class="text-red bold js-hidden js-max-react">',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"i18n"),"REACT_MAX_3"),e.opts.autoescape),a+='</p>\n<p class="text-red bold js-hidden js-already-react">',a+=o.suppressValue(o.memberLookup(o.contextOrFrameLookup(t,n,"i18n"),"ALREADY_REACT"),e.opts.autoescape),a+='</p>\n<ul class="reaction-box xs-col-12 xs-my1 list-unstyled flex xs-flex-align-end">\n  ',n=n.push();var s=o.contextOrFrameLookup(t,n,"reactions");if(s)for(var u=s.length,l=0;l<s.length;l++){var d=s[l];n.set("reaction",d),n.set("loop.index",l+1),n.set("loop.index0",l),n.set("loop.revindex",u-l),n.set("loop.revindex0",u-l-1),n.set("loop.first",0===l),n.set("loop.last",l===u-1),n.set("loop.length",u),a+='\n    <li class="reaction js-reaction flex xs-flex-column xs-flex-grow-1">\n      <div class="reaction__bar">\n        <p class="reaction__bar__number js-reaction__bar__number xs-text-center xs-block bold xs-text-5 xs-mb05">',a+=o.suppressValue(o.memberLookup(d,"count"),e.opts.autoescape),a+='</p>\n        <div class="reaction__bar__level js-reaction__bar__level xs-mb05" style="height: ',a+=o.suppressValue(o.memberLookup(d,"level"),e.opts.autoescape),a+='px;"></div>\n      </div>\n      <button class="reaction__button js-reaction__button xs-flex-grow-1 xs-flex-align-center xs-flex-justify-center xs-flex-shrink-0 xs-inline-block xs-px2 rounded xs-border-none"\n      data-type="reaction" data-reaction="',a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+='" data-count="',a+=o.suppressValue(o.memberLookup(d,"count"),e.opts.autoescape),a+='"\n      data-bfa="@a:Reactions; @d:',a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+=';">\n        <svg class="reaction__button__name reaction__button__name--',a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+=' xs-block" preserveAspectRatio="xMidYMid">\n          <title>',a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+="</title>\n          ",a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+='\n          <use xlink:href="#reaction-',a+=o.suppressValue(o.memberLookup(d,"name"),e.opts.autoescape),a+='"></use>\n        </svg>\n      </button>\n    </li>\n  '}n=n.pop(),a+="\n</ul>\n",i?i.rootRenderFunc(e,t,n,o,r):r(null,a)}catch(e){r(o.handleError(e,null,null))}}return{root:e}}()}(),e.exports=i(r,o,r.nunjucksPrecompiled["app/static/components/reactions/reactions-box.html"],a)}});
//# sourceMappingURL=user-contributions.74586f6868a654e3d14d.js.map